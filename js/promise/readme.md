# Promise JS 异步编程

- 线程
  - 执行代码的最小单元
  - 进程是分配资源的最小单元
  - 进程启动线程，把代码执行任务交给他
  - JS 是单线程
    - 同步代码
      console let for()...
      ms 级别
    - 异步代码
      时间开销
      可能和阅读顺序不一样
    - 单线程
      JS 语言简单好学
      JS 要负责事件、页面更新...
      一旦碰到耗时性任务，先放入 event loop 中,接着往后执行
      - 为什么需要 Event Loop？
        JS 引擎是单线程（只有一个主线程执行 JS 代码），如果遇到耗时操作（如网络请求、定时器），直接同步执行会导致线程阻塞（页面卡死）。Event Loop 的作用就是：协调主线程与异步任务，让主线程在等待异步操作时不空闲，高效处理任务。
- Promise
  - es6 提供的异步变同步的高级工具类
  - 提供了 then 方法 控制流程 等下
    new Promise 接受一个函数作为参数
    用于立即执行异步任务，执行完了，resolve() 通知 Promise 异步任务完成
    reject 失败了，会触发 .catch 里的函数
    .then 里的函数会在异步任务完成后立即执行
