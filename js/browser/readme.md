# 浏览器底层

- 当打开chrome的时候 意味着什么？
  启动了一个进程 process   唯一PID
  chrome是上网的代理程序
  **进程**是分配资源的最小单位
    进程中包含了线程 **thread**
    线程是执行程序的最小单位（cpu调度的最小单位）
    一个进程中可以包含多个线程

- 为什么是chrome？
  chrome最优秀 市场占有率最高
- 主要功能？
  - 子进程 
    每个tab页 都是一个子进程
  - html/css 渲染页面 
  - v8引擎 js执行 
    单线程 简单
  - 网络下载资源  network
    如图片、视频、音频等 并存储到缓存中  
    当再次请求相同资源时 直接从缓存中读取 无需再次下载
  - 通信
    子进程与主进程 通信
    如 渲染进程 与 网络进程 通信

- 多进程多线程架构
  - 主进程 browser
    负责管理和调度的
    - GPU进程 显卡 显示 渲染3D
      animation transition translate3D
    - network 网络进程是什么？
      负责处理网络请求 如http请求 下载资源
    - Storage 进程 本地存储 缓存 localStorage Cookie 前端数据库
    
    - 标签页是独立的子进程是什么
      - 渲染进程 render process  渲染引擎(webkit)
      - js 执行进程 v8引擎
        js 单线程（主）  运行起来了

- 进程
  分配资源的最小单位
  每个tab 页是个独立的进程 内存开销大
  每个页面显示更快  更安全
  如果进程/线程 如果崩溃的话 所有页面都玩完
  ie浏览器动不动就崩溃 多tab 多进程来做隔离

- 单线程
  同步任务（sync）、异步任务（async）放到 event loop中
- 多线程 并行
  线程共享进程资源

- 当一个进程关闭后，操作系统会回收进程所占用的内存
- 每一个进程只能访问自己占有的数据，不能访问其他进程的数据，如果崩溃了，也不会影响其他进程的运行，如果进程之间需要进行数据通信，需要通过进程间通信（IPC）机制来实现
  
## 单进程浏览器 ie

## chrome 多进程架构
- 浏览器进程
  主要负责界面显示（浏览器软件界面），用户交互，子进程管理，同时提供存储等功能
- 渲染进程
  核心任务是将HTML,css,js 转换为用户可以与之交互的网页
  排版引擎blink 和js 引擎 v8 都运行在这里
  默认情况，chrome会为每个tab标签创建一个渲染进程
- GPU进程
  早期是没有的，GPU 使用的初衷是为了实现3D css 的效果，
  网页，UI 都采用gpu 来绘制。显卡的加速
  负责处理图形渲染相关的任务，如3D动画、视频播放等
  与渲染进程并行运行，互不干扰
- 网络进程
  负责页面的网络资源加载，独立的进程
- 插件进程
  负责运行插件，如flash、chrome extension等

- 当打开一个页面，为什么会有多个进程？有哪些进程？
